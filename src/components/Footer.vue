<template>
  <footer>
    <div class="container">
      <div class="footer__info">
        <div class="footer__contacts">
          <div class="footer__contacts-column">
            <div v-if="siteInfo.address" class="footer__contacts-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.0006 19V14H14.0006V19C14.0006 19.55 14.4506 20 15.0006 20H18.0006C18.5506 20 19.0006 19.55 19.0006 19V12H20.7006C21.1606 12 21.3806 11.43 21.0306 11.13L12.6706 3.59997C12.2906 3.25997 11.7106 3.25997 11.3306 3.59997L2.97059 11.13C2.63059 11.43 2.84059 12 3.30059 12H5.00059V19C5.00059 19.55 5.45059 20 6.00059 20H9.00059C9.55059 20 10.0006 19.55 10.0006 19Z" fill="black"/>
              </svg>
              {{ siteInfo.address }}
            </div>
            <a v-if="siteInfo.phone" :href="'tel:' + phoneToCall" class="footer__contacts-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.7388 16.4138C21.5716 17.6841 20.9477 18.8502 19.9837 19.6942C19.0196 20.5382 17.7813 21.0023 16.5 21.0001C9.05626 21.0001 3.00001 14.9438 3.00001 7.50005C2.99771 6.21876 3.4619 4.98045 4.30588 4.01639C5.14986 3.05234 6.31592 2.42847 7.58626 2.2613C7.9075 2.22208 8.2328 2.2878 8.51362 2.44865C8.79444 2.60951 9.0157 2.85687 9.14438 3.1538L11.1244 7.57412V7.58537C11.2229 7.81267 11.2636 8.06083 11.2428 8.30769C11.222 8.55455 11.1404 8.79242 11.0053 9.00005C10.9884 9.02537 10.9706 9.0488 10.9519 9.07224L9.00001 11.386C9.7022 12.8129 11.1947 14.2922 12.6403 14.9963L14.9222 13.0547C14.9446 13.0359 14.9681 13.0184 14.9925 13.0022C15.2 12.8639 15.4387 12.7794 15.687 12.7565C15.9353 12.7336 16.1854 12.7729 16.4147 12.871L16.4269 12.8766L20.8434 14.8557C21.1409 14.9839 21.3889 15.205 21.5503 15.4858C21.7116 15.7667 21.7778 16.0922 21.7388 16.4138Z" fill="black"/>
              </svg>
              {{ phone }}
            </a>
            <a v-if="siteInfo.email" :href="'mailto:' + siteInfo.email" class="footer__contacts-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19.875 3.75H4.125C3.42904 3.75074 2.76179 4.02755 2.26967 4.51967C1.77755 5.01179 1.50074 5.67904 1.5 6.375V17.625C1.50074 18.321 1.77755 18.9882 2.26967 19.4803C2.76179 19.9725 3.42904 20.2493 4.125 20.25H19.875C20.571 20.2493 21.2382 19.9725 21.7303 19.4803C22.2225 18.9882 22.4993 18.321 22.5 17.625V6.375C22.4993 5.67904 22.2225 5.01179 21.7303 4.51967C21.2382 4.02755 20.571 3.75074 19.875 3.75ZM19.2103 8.09203L12.4603 13.342C12.3287 13.4444 12.1667 13.4999 12 13.4999C11.8333 13.4999 11.6713 13.4444 11.5397 13.342L4.78969 8.09203C4.71038 8.03214 4.64377 7.95709 4.59372 7.87123C4.54367 7.78537 4.51118 7.69042 4.49815 7.5919C4.48511 7.49338 4.49179 7.39325 4.51778 7.29733C4.54378 7.20142 4.58858 7.11162 4.64958 7.03316C4.71058 6.95471 4.78656 6.88916 4.87312 6.84032C4.95967 6.79149 5.05506 6.76034 5.15376 6.74869C5.25245 6.73704 5.35248 6.74513 5.44802 6.77247C5.54357 6.79981 5.63272 6.84587 5.71031 6.90797L12 11.7998L18.2897 6.90797C18.447 6.7892 18.6447 6.73711 18.84 6.76296C19.0354 6.78881 19.2128 6.89053 19.3338 7.04612C19.4547 7.20171 19.5096 7.39866 19.4865 7.59439C19.4634 7.79011 19.3642 7.96888 19.2103 8.09203Z" fill="black"/>
              </svg>
              {{ siteInfo.email }}
            </a>
          </div>
          <div class="footer__contacts-column">
            <a target="_blank" v-if="siteInfo.phone" :href="'https://vk.me/' + 'username'" class="footer__contacts-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.4 3.4C2 4.81333 2 7.07333 2 11.6V12.4C2 16.92 2 19.18 3.4 20.6C4.81333 22 7.07333 22 11.6 22H12.4C16.92 22 19.18 22 20.6 20.6C22 19.1867 22 16.9267 22 12.4V11.6C22 7.08 22 4.82 20.6 3.4C19.1867 2 16.9267 2 12.4 2H11.6C7.08 2 4.82 2 3.4 3.4ZM5.37333 8.08667H7.66667C7.74 11.9 9.42 13.5133 10.7533 13.8467V8.08667H12.9067V11.3733C14.22 11.2333 15.6067 9.73333 16.0733 8.08H18.22C18.0448 8.9358 17.6951 9.7463 17.1927 10.4609C16.6903 11.1755 16.046 11.7789 15.3 12.2333C16.1327 12.6476 16.8681 13.2338 17.4576 13.9532C18.0471 14.6726 18.4774 15.5088 18.72 16.4067H16.3533C15.8467 14.8267 14.58 13.6 12.9067 13.4333V16.4067H12.64C8.08 16.4067 5.48 13.2867 5.37333 8.08667Z" fill="black"/>
              </svg>
              /username
            </a>
            <a target="_blank" v-if="siteInfo.phone" :href="'https://t.me/@' + 'username'" class="footer__contacts-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16.64 8.8C16.49 10.38 15.84 14.22 15.51 15.99C15.37 16.74 15.09 16.99 14.83 17.02C14.25 17.07 13.81 16.64 13.25 16.27C12.37 15.69 11.87 15.33 11.02 14.77C10.03 14.12 10.67 13.76 11.24 13.18C11.39 13.03 13.95 10.7 14 10.49C14.0069 10.4582 14.006 10.4252 13.9973 10.3938C13.9886 10.3624 13.9724 10.3337 13.95 10.31C13.89 10.26 13.81 10.28 13.74 10.29C13.65 10.31 12.25 11.24 9.52 13.08C9.12 13.35 8.76 13.49 8.44 13.48C8.08 13.47 7.4 13.28 6.89 13.11C6.26 12.91 5.77 12.8 5.81 12.45C5.83 12.27 6.08 12.09 6.55 11.9C9.47 10.63 11.41 9.79 12.38 9.39C15.16 8.23 15.73 8.03 16.11 8.03C16.19 8.03 16.38 8.05 16.5 8.15C16.6 8.23 16.63 8.34 16.64 8.42C16.63 8.48 16.65 8.66 16.64 8.8Z" fill="black"/>
              </svg>
              @username
            </a>
            <a target="_blank" v-if="siteInfo.phone" :href="'https://api.whatsapp.com/send?phone=' + siteInfo.phone" class="footer__contacts-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.002 2C17.525 2 22.002 6.477 22.002 12C22.002 17.523 17.525 22 12.002 22C10.2347 22.003 8.49855 21.5353 6.97197 20.645L2.00597 22L3.35797 17.032C2.46693 15.5049 1.99887 13.768 2.00197 12C2.00197 6.477 6.47897 2 12.002 2ZM8.59397 7.3L8.39397 7.308C8.26466 7.31691 8.13832 7.35087 8.02197 7.408C7.91354 7.46951 7.81453 7.5463 7.72797 7.636C7.60797 7.749 7.53997 7.847 7.46697 7.942C7.09709 8.4229 6.89794 9.01331 6.90097 9.62C6.90297 10.11 7.03097 10.587 7.23097 11.033C7.63997 11.935 8.31297 12.89 9.20097 13.775C9.41497 13.988 9.62497 14.202 9.85097 14.401C10.9544 15.3724 12.2692 16.073 13.691 16.447L14.259 16.534C14.444 16.544 14.629 16.53 14.815 16.521C15.1062 16.5056 15.3905 16.4268 15.648 16.29C15.7788 16.2223 15.9066 16.1489 16.031 16.07C16.031 16.07 16.0733 16.0413 16.156 15.98C16.291 15.88 16.374 15.809 16.486 15.692C16.57 15.6053 16.64 15.5047 16.696 15.39C16.774 15.227 16.852 14.916 16.884 14.657C16.908 14.459 16.901 14.351 16.898 14.284C16.894 14.177 16.805 14.066 16.708 14.019L16.126 13.758C16.126 13.758 15.256 13.379 14.724 13.137C14.6683 13.1128 14.6086 13.0989 14.548 13.096C14.4795 13.0888 14.4104 13.0965 14.3452 13.1184C14.2799 13.1403 14.2202 13.176 14.17 13.223C14.165 13.221 14.098 13.278 13.375 14.154C13.3335 14.2098 13.2763 14.2519 13.2108 14.2751C13.1452 14.2982 13.0743 14.3013 13.007 14.284C12.9418 14.2666 12.878 14.2446 12.816 14.218C12.692 14.166 12.649 14.146 12.564 14.11C11.9898 13.8599 11.4584 13.5215 10.989 13.107C10.863 12.997 10.746 12.877 10.626 12.761C10.2326 12.3842 9.88972 11.958 9.60597 11.493L9.54697 11.398C9.50523 11.3338 9.47101 11.265 9.44497 11.193C9.40697 11.046 9.50597 10.928 9.50597 10.928C9.50597 10.928 9.74897 10.662 9.86197 10.518C9.97197 10.378 10.065 10.242 10.125 10.145C10.243 9.955 10.28 9.76 10.218 9.609C9.93797 8.925 9.64863 8.24467 9.34997 7.568C9.29097 7.434 9.11597 7.338 8.95697 7.319C8.90297 7.31233 8.84897 7.307 8.79497 7.303C8.6607 7.2953 8.52606 7.29664 8.39197 7.307L8.59397 7.3Z" fill="black"/>
              </svg>
              {{ phone }}
            </a>
          </div>

        </div>
        <div class="footer__policy">
          <RouterLink to="/delivery">
            Условия доставки товара
          </RouterLink>

          <RouterLink to="/return-and-exchange">
            Возврат и обмен
          </RouterLink>

          <RouterLink to="/policy">
            Политика конфиденциальности
          </RouterLink>
        </div>
      </div>
      <div class="footer__organization">
        {{ siteInfo.organization_name ? siteInfo.organization_name : "" }}
        {{ siteInfo.inn ? "ИНН: " + siteInfo.inn : "" }}
        {{ siteInfo.kpp ? "КПП: " + siteInfo.kpp : "" }}
        {{ siteInfo.ogrn ? "ОГРН: " + siteInfo.ogrn : "" }}
        {{ siteInfo.ogrnip ? "ОГРНИП: " + siteInfo.ogrnip : "" }}
      </div>

      <BannerFooter/>

    </div>

  </footer>
</template>

<script setup>
import {useSiteInfo} from "@/stores/siteInfo";
import BannerFooter from "./BannerFooter.vue";
import { computed } from 'vue';

const siteInfoStore = useSiteInfo();
const siteInfo = computed(() => siteInfoStore.siteInfo);
const phone = computed(() => siteInfo.value.phone.replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/, '+7 ($2) $3-$4-$5'));
const phoneToCall = computed(() => siteInfo.value.phone[0] == 8 ? '+7' + siteInfo.value.phone.slice(1) : siteInfo.value.phone);
</script>
